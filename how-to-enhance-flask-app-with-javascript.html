<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" charset="utf-8" content="width=device-width"/>
  <title>How to use enhance Flask app with JavaScript</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.4.1/css/bulma.min.css">
    <link rel="stylesheet" href="https://teckhockng.github.io/theme/css/main.9f548f79.css">
    <link rel="stylesheet" href="https://teckhockng.github.io/theme/webassets-external/010418e8be77eba9c979b3618bbf36f4_print.css" media="print">
  <!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
<meta property="og:title" content="Teck Hock NG - How to use enhance Flask app with JavaScript">
  <meta property="og:description" content="In my Hackathon project, I used 2 JavaScript plugins (SelectizeJS and ParticlesJS) to style the website. There are 2 ways to import/use JavaScript into your website. The first way is to import it...">
<meta property="og:url" content="https://teckhockng.github.io/how-to-enhance-flask-app-with-javascript.html">
<meta name="twitter:card" content="summary">
</head>

<body id="index" class="home">
<header class="hero is-primary">
  <div class="hero-head">
    <div class="container">
      <nav class="nav">
        <div class="nav-left">
          <a class="nav-item is-brand title is-3"
             href="https://teckhockng.github.io/">Teck Hock NG</a>
        </div>
      </nav>
    </div>
  </div>
</header>

<nav class="nav has-shadow is-hidden-print">
  <div class="container">
    <div class="nav-center"></div>
    <span id="navToggle" class="nav-toggle">
      <span></span>
      <span></span>
      <span></span>
    </span>
    <div id="navMenu" class="nav-right nav-menu">
          <a class="nav-item is-tab "
             href="https://teckhockng.github.io/category/visualization.html">Visualization</a>
          <a class="nav-item is-tab "
             href="https://teckhockng.github.io/category/regressor.html">Regressor</a>
          <a class="nav-item is-tab "
             href="https://teckhockng.github.io/category/nlp.html">NLP</a>
          <a class="nav-item is-tab is-active"
             href="https://teckhockng.github.io/category/flask.html">Flask</a>
          <a class="nav-item is-tab "
             href="https://teckhockng.github.io/category/classifier.html">Classifier</a>
    </div>
  </div>
</nav>

<div class="container">
  <div class="section columns">
    <div class="column is-three-quarters-desktop is-two-thirds-tablet">
<section id="content" class="body">
  <article>
    <h1 class="title">
      <a href="https://teckhockng.github.io/how-to-enhance-flask-app-with-javascript.html" rel="bookmark"
         title="Permalink to How to use enhance Flask app with JavaScript">How to use enhance Flask app with JavaScript</a></h1>
<footer class="post-info">
  <abbr class="published" title="2019-10-27T00:00:00-04:00">
    Published <span class="is-info">Sun 27 October 2019</span>
    in <a href="https://teckhockng.github.io/category/flask.html">Flask</a>
  </abbr>

    <p class="author">
      <em>by           <a class="url fn" href="https://teckhockng.github.io/author/teck-hock-ng.html">Teck Hock Ng</a>
</em>
      <span class="tag is-small"><a href="https://teckhockng.github.io/tag/python.html">python</a></span>
    </p>
  
</footer>    <div class="section"><h3>In my <a href="https://ted-talk-viral-predictor.herokuapp.com/">Hackathon</a> project, I used 2 JavaScript plugins (<a href="https://github.com/selectize/selectize.js">SelectizeJS</a> and <a href="https://github.com/VincentGarreau/particles.js/">ParticlesJS</a>) to style the website.</h3>
<p><br>
There are 2 ways to import/use JavaScript into your website. <br><br>
The first way is to import it inside the <code>&lt;head&gt;</code> or <code>&lt;body&gt;</code> tag. Do note that to import the JavaScript file, you have to use Jinja2 to reference the file inside a folder. In this case, the folder is called "static".</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{url_for(&#39;static&#39;, filename=&#39;js/selectize.js&#39;)}}&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>

<p>The second way is to write JavaScript inside the <code>&lt;script&gt;</code> tag. The <code>&lt;script&gt;</code> tag has to be inside a <code>&lt;body&gt;</code> tag.</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#input-tags&#39;</span><span class="p">).</span><span class="nx">selectize</span><span class="p">({</span>
        <span class="nx">plugins</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;remove_button&#39;</span><span class="p">],</span>
        <span class="nx">persist</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nx">selectOnTab</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">maxItems</span><span class="o">:</span> <span class="mf">15</span><span class="p">,</span>
        <span class="nx">placeholder</span><span class="o">:</span> <span class="s2">&quot;Enter your tags here&quot;</span><span class="p">,</span>
        <span class="nx">create</span><span class="o">:</span> <span class="kc">true</span>
  <span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>

<p>Generally, you would import the JavaScript last in the <code>&lt;body&gt;</code> tag unless the JavaScript has to load its function to change something inside the <code>&lt;body&gt;</code> tag. In my case, the SelectizeJS has to load in the <code>head</code> tag to change the appearance of the tags input. By doing so, the time taken to render the webpage will be shorter.</p>
<h3>Before moving into using JavaScript, here are a few important Jinja2 variable and filters you should know. You can look <a href="https://jinja.palletsprojects.com/en/2.10.x/templates/#list-of-control-structures">here</a> for more Jinja2 syntax.</h3>
<p>To reference a file or image like CSS or images, use the following method to reference it.</p>
<div class="highlight"><pre><span></span><code><span class="p">{{</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;folder_name&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;file_path_inside_folder_name&#39;</span><span class="p">)}}</span>
</code></pre></div>

<p>To get a variable from your app.py</p>
<div class="highlight"><pre><span></span><code><span class="p">{{</span> <span class="n">variable_from_app_py</span><span class="o">|</span><span class="n">safe</span> <span class="p">}}</span>
</code></pre></div>

<p>To do a for-loop</p>
<div class="highlight"><pre><span></span><code>  {% for t in list_from_app_py %}
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;{{t}}&quot;</span><span class="p">&gt;</span>{{t}}<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
  {% endfor %}
</code></pre></div>

<p>To do an if statement</p>
<div class="highlight"><pre><span></span><code>    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">kenny</span><span class="o">.</span><span class="n">sick</span> <span class="o">%</span><span class="p">}</span>
    <span class="n">Kenny</span> <span class="ow">is</span> <span class="n">sick</span><span class="o">.</span>
    <span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="n">kenny</span><span class="o">.</span><span class="n">dead</span> <span class="o">%</span><span class="p">}</span>
        <span class="n">You</span> <span class="n">killed</span> <span class="n">Kenny</span><span class="err">!</span>  <span class="n">You</span> <span class="n">bastard</span><span class="err">!!!</span>
    <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
        <span class="n">Kenny</span> <span class="n">looks</span> <span class="n">okay</span> <span class="o">---</span> <span class="n">so</span> <span class="n">far</span>
    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
</code></pre></div>

<h3>To use SelectizeJS, you need to download the <a href="https://raw.githubusercontent.com/selectize/selectize.js/master/dist/js/selectize.js">JavaScript</a> and <a href="https://raw.githubusercontent.com/selectize/selectize.js/master/dist/css/selectize.css">CSS</a> file. Then, include both of the files inside the <code>&lt;head&gt;</code> tag.</h3>
<div class="highlight"><pre><span></span><code>    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{url_for(&#39;static&#39;, filename=&#39;js/selectize.js&#39;)}}&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{url_for(&#39;static&#39;, filename=&#39;css/selectize.css&#39;)}}&quot;</span> <span class="p">/&gt;</span>
</code></pre></div>

<h3>Then, include these code after your <code>&lt;select id="id-name"&gt;</code> or <code>&lt;input id="id-name"&gt;</code> tag. You can customize the JavaScript according to the <a href="https://github.com/selectize/selectize.js/blob/master/docs/usage.md">documentation</a>.</h3>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#id-name&#39;</span><span class="p">).</span><span class="nx">selectize</span><span class="p">({</span>
        <span class="nx">plugins</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;remove_button&#39;</span><span class="p">],</span>
        <span class="nx">persist</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nx">selectOnTab</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">maxItems</span><span class="o">:</span> <span class="mf">15</span><span class="p">,</span>
        <span class="nx">placeholder</span><span class="o">:</span> <span class="s2">&quot;Enter your tags here&quot;</span><span class="p">,</span>
        <span class="nx">create</span><span class="o">:</span> <span class="kc">true</span>
  <span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>

<h3>My <code>&lt;select&gt;</code> tag looks like this.</h3>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;tags&quot;</span><span class="p">&gt;</span>Tags<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">select</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;input-tags&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;tags&quot;</span> <span class="na">multiple</span><span class="o">=</span><span class="s">&quot;multiple&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">selected</span><span class="p">&gt;</span>Select tags...<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
  {% for t in tags %}
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;{{t}}&quot;</span><span class="p">&gt;</span>{{t}}<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
  {% endfor %}
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
<span class="cm">&lt;!-- Use this if you are customizing input tag --&gt;</span>
<span class="cm">&lt;!-- &lt;input id=&quot;input-tags&quot; name=&quot;tags&quot; value=&quot;{{ tags|safe }}&quot; /&gt; --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#input-tags&#39;</span><span class="p">).</span><span class="nx">selectize</span><span class="p">({</span>
        <span class="nx">plugins</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;remove_button&#39;</span><span class="p">],</span>
        <span class="nx">persist</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nx">selectOnTab</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">maxItems</span><span class="o">:</span> <span class="mf">15</span><span class="p">,</span>
        <span class="nx">placeholder</span><span class="o">:</span> <span class="s2">&quot;Enter your tags here&quot;</span>
  <span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>

<h3>To use ParticlesJS, you need to download the <a href="https://raw.githubusercontent.com/VincentGarreau/particles.js/master/particles.js">JavaScript</a> file and create an app.js file to store the configurations. Then, include both the files at the end of <code>body</code> tag.</h3>
<div class="highlight"><pre><span></span><code>        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{url_for(&#39;static&#39;, filename=&#39;js/particles.js&#39;)}}&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{url_for(&#39;static&#39;, filename=&#39;js/app.js&#39;)}}&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>

<h3>The app.js should look like this. You can configure the ParticleJS <a href="https://vincentgarreau.com/particles.js/">here</a> and download the JSON file. Paste the content of JSON file into app.js.</h3>
<div class="highlight"><pre><span></span><code><span class="nx">particlesJS</span><span class="p">(</span><span class="s1">&#39;particles-js&#39;</span><span class="p">,</span>
            <span class="c1">//paste everything from the JSON file here</span>
<span class="p">);</span>
</code></pre></div>

<h3>Then, specify which element to have the background. In my case, I used <code>&lt;body&gt;</code> tag to contain the background. You can use it on <code>&lt;div&gt;</code> tags by specifying <code>id="particles-js"</code>.</h3>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">body</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;particles-js&quot;</span><span class="p">&gt;</span>
  <span class="cm">&lt;!-- After all the html elements --&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{url_for(&#39;static&#39;, filename=&#39;js/particles.js&#39;)}}&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{url_for(&#39;static&#39;, filename=&#39;js/app.js&#39;)}}&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</code></pre></div>

<h3>One important thing to note: If you are using ParticlesJS as your background and the inside the body contains a form, you have to change the <code>z-index of particles-js to 0</code> and change the <code>z-index of the form to 1</code>.</h3>
<p>Inside my CSS, I've set change the z-index of particles-js and form. Do note that the particle-js creates a canvas element.</p>
<div class="highlight"><pre><span></span><code><span class="c">/* ---- particles.js container ---- */</span><span class="w"></span>

<span class="w">      </span><span class="p">#</span><span class="nn">particles-js</span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="kc">black</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">background-size</span><span class="p">:</span><span class="w"> </span><span class="kc">cover</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">background-repeat</span><span class="p">:</span><span class="w"> </span><span class="kc">repeat-y</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>

<span class="w">      </span><span class="nt">canvas</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">absolute</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">top</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">left</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">z-index</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>

<span class="w">      </span><span class="nt">form</span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">relative</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">z-index</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
</code></pre></div>

<h3>That's my quick tutorial on using JavaScript to enhance Flask app. There are a lot of JavaScript plugins that satisfies the function that you need. So, just try to look for it before reinventing the wheel.</h3></div>

  </article>
</section>
    </div>

    <div class="column is-one-quarter-desktop is-one-third-tablet is-hidden-print">
      <aside class="menu">
          <p class="menu-label">Links</p>
          <ul class="menu-list">
              <li><a href="https://ted-talk-viral-predictor.herokuapp.com/">
                <span class="icon is-small"><i class="fa fa-globe fa-fw"></i></span>
                <span class="link-text">TED Talk Virality Predictor Hackathon</span>
              </a></li>
              <li><a href="https://world-happiness-ranking.herokuapp.com/">
                <span class="icon is-small"><i class="fa fa-globe fa-fw"></i></span>
                <span class="link-text">World Happiness Ranking App</span>
              </a></li>
          </ul>
<p class="menu-label">Social</p>
<ul class="menu-list">
    <li><a href="https://www.linkedin.com/in/teckhockng/">
      <span class="icon is-small">
          <i class="fa fa-linkedin fa-fw"></i>
      </span>
      <span class="link-text">LinkedIn</span>
    </a></li>
    <li><a href="https://github.com/teckhockng">
      <span class="icon is-small">
          <i class="fa fa-github fa-fw"></i>
      </span>
      <span class="link-text">GitHub</span>
    </a></li>
</ul>      </aside>
    </div>
  </div>
</div>

<footer class="footer">
  <div class="container has-text-centered">
<<<<<<< HEAD
    <p><span class="icon is-small"><i class="fa fa-html5"></i></span> HTML 5
=======
    <p><span class="icon is-small"><i class="fa fa-html5"></i></span> HTML 5
>>>>>>> small changes
      | <span class="icon is-small"><i class="fa fa-css3"></i></span> CSS 3
    </p>
  </div>
</footer>

<script type="text/javascript">
  document.getElementById('navToggle').addEventListener('click', function () {
    var nav = document.getElementById('navMenu');
    var className = nav.getAttribute('class');
    if (className == 'nav-right nav-menu') {
      nav.className = 'nav-right nav-menu is-active';
    } else {
      nav.className = 'nav-right nav-menu';
    }
  });
</script>
</body>
</html>