<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" charset="utf-8" content="width=device-width"/>
  <title>How to add interactive Altair charts to your GitHub pages</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.4.1/css/bulma.min.css">
    <link rel="stylesheet" href="https://teckhockng.github.io/theme/css/main.9f548f79.css">
    <link rel="stylesheet" href="https://teckhockng.github.io/theme/webassets-external/010418e8be77eba9c979b3618bbf36f4_print.css" media="print">
  <!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
<style>
.vega-actions a {
    margin-right: 12px;
    color: #757575;
    font-weight: normal;
    font-size: 13px;
}
.error {
    color: red;
}
</style>
<script src="https://cdn.jsdelivr.net/npm//vega@3.3.1"></script>
<script src="https://cdn.jsdelivr.net/npm//vega-lite@2.4.3"></script>
<script src="https://cdn.jsdelivr.net/npm//vega-embed@3.11"></script>
<meta property="og:title" content="Teck Hock NG - How to add interactive Altair charts to your GitHub pages">
  <meta property="og:description" content="Yesterday I tried to upload an interactive Altair chart that shows tooltip on hover to my GitHub blog but when I download it from the Jupyter notebook as markdown file, there's only .png version...">
<meta property="og:url" content="https://teckhockng.github.io/how-to-add-interactive-altair-charts-to-github-pages.html">
    <meta property="og:image" content="images/ez_clap.gif">
    <meta name="twitter:image:alt" content="Teck Hock NG">
<meta name="twitter:card" content="summary">
</head>

<body id="index" class="home">
<header class="hero is-primary">
  <div class="hero-head">
    <div class="container">
      <nav class="nav">
        <div class="nav-left">
          <a class="nav-item is-brand title is-3"
             href="https://teckhockng.github.io/">Teck Hock NG</a>
        </div>
      </nav>
    </div>
  </div>
</header>

<nav class="nav has-shadow is-hidden-print">
  <div class="container">
    <div class="nav-center"></div>
    <span id="navToggle" class="nav-toggle">
      <span></span>
      <span></span>
      <span></span>
    </span>
    <div id="navMenu" class="nav-right nav-menu">
          <a class="nav-item is-tab is-active"
             href="https://teckhockng.github.io/category/visualization.html">Visualization</a>
          <a class="nav-item is-tab "
             href="https://teckhockng.github.io/category/regressor.html">Regressor</a>
          <a class="nav-item is-tab "
             href="https://teckhockng.github.io/category/nlp.html">NLP</a>
          <a class="nav-item is-tab "
             href="https://teckhockng.github.io/category/flask.html">Flask</a>
          <a class="nav-item is-tab "
             href="https://teckhockng.github.io/category/classifier.html">Classifier</a>
    </div>
  </div>
</nav>

<div class="container">
  <div class="section columns">
    <div class="column is-three-quarters-desktop is-two-thirds-tablet">
<section id="content" class="body">
  <article>
    <h1 class="title">
      <a href="https://teckhockng.github.io/how-to-add-interactive-altair-charts-to-github-pages.html" rel="bookmark"
         title="Permalink to How to add interactive Altair charts to your GitHub pages">How to add interactive Altair charts to your GitHub pages</a></h1>
<footer class="post-info">
  <abbr class="published" title="2019-09-30T00:00:00-04:00">
    Published <span class="is-info">Mon 30 September 2019</span>
    in <a href="https://teckhockng.github.io/category/visualization.html">Visualization</a>
  </abbr>

    <p class="author">
      <em>by           <a class="url fn" href="https://teckhockng.github.io/author/teck-hock-ng.html">Teck Hock Ng</a>
</em>
      <span class="tag is-small"><a href="https://teckhockng.github.io/tag/python.html">python</a></span>
    </p>
  
</footer>    <div class="section"><p>Yesterday I tried to upload an interactive Altair chart that shows tooltip on hover to my GitHub blog but when I download it from the Jupyter notebook as markdown file, there's only <code>.png</code> version of the chart. So, I found a workaround to have an interactive Altair on my website.</p>
<h3>I'll use the chart from my <a href="https://teckhockng.github.io/blog/Dummy%20Regressor&Dummy%20Classifier.html"> previous blog post</a> as an example.</h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">altair</span> <span class="k">as</span> <span class="nn">alt</span>
<span class="n">alt</span><span class="o">.</span><span class="n">renderers</span><span class="o">.</span><span class="n">enable</span><span class="p">(</span><span class="s1">&#39;notebook&#39;</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">make_regression</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
</code></pre></div>

<p>Create a dataset for us to plot</p>
<div class="highlight"><pre><span></span><code><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Create a simple regression problem</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">make_regression</span><span class="p">(</span>
    <span class="n">n_samples</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
    <span class="n">n_features</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">n_informative</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">n_targets</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">bias</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
    <span class="n">effective_rank</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">tail_strength</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">noise</span><span class="o">=</span><span class="mf">155.0</span>
<span class="p">)</span>

<span class="c1"># Train test split</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.33</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Create percentile of y_train dataframe for chart to display</span>
<span class="n">y_sort</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">y_train</span><span class="p">)</span>
<span class="n">perc</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">y_val</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">101</span><span class="p">):</span>
    <span class="n">y_val</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">y_sort</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>
    <span class="n">perc</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="n">plot_y</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">y_val</span><span class="p">,</span>
    <span class="s1">&#39;percentile&#39;</span><span class="p">:</span> <span class="n">perc</span>
<span class="p">})</span>
</code></pre></div>

<p>Usually running only <code>graph</code> will plot the graph out in the Jupyter Notebook and it will save as <code>.png</code> when we download it. We don't want that. Instead, we want to save it as <code>.html</code> by running <code>.save(chart.html)</code> and the file contains everything we need for the tooltip to display.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Create a selection that chooses the nearest point &amp; selects based on x-axis value</span>
<span class="n">base</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">plot_y</span><span class="p">)</span>

<span class="n">nearest</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="n">nearest</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;mouseover&#39;</span><span class="p">,</span>
                        <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="n">empty</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>

<span class="n">bar</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;percentile&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;y&#39;</span>
<span class="p">)</span>

<span class="n">selectors</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;percentile:Q&#39;</span><span class="p">,</span>
    <span class="n">opacity</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span>
    <span class="n">nearest</span>
<span class="p">)</span>

<span class="c1"># Draw points on the line, and highlight based on selection</span>
<span class="n">points</span> <span class="o">=</span> <span class="n">bar</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">opacity</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="n">nearest</span><span class="p">,</span> <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="p">)</span>

<span class="c1"># Draw text labels near the points, and highlight based on selection</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">bar</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span><span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">text</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="n">nearest</span><span class="p">,</span> <span class="s1">&#39;percentile:Q&#39;</span><span class="p">,</span> <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">))</span>
<span class="p">)</span>

<span class="n">text2</span> <span class="o">=</span> <span class="n">bar</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span><span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">dy</span><span class="o">=-</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">text</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="n">nearest</span><span class="p">,</span> <span class="s1">&#39;y:Q&#39;</span><span class="p">,</span> <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">))</span>
<span class="p">)</span>

<span class="c1"># Draw a rule at the location of the selection</span>
<span class="n">rules</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">mark_rule</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;percentile:Q&#39;</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span>
    <span class="n">nearest</span>
<span class="p">)</span>

<span class="c1"># Put the five layers into a chart and bind the data</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">layer</span><span class="p">(</span>
    <span class="n">bar</span><span class="p">,</span> <span class="n">selectors</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">rules</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">text2</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Percentile of y_train values&quot;</span>
<span class="p">)</span>

<span class="c1"># Important step for us to get an interactive chart!!!</span>
<span class="n">graph</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;chart.html&#39;</span><span class="p">)</span>
</code></pre></div>

<p>After that, we can find the <code>chart.html</code> file inside the folder that contains your current Jupyter Notebook file. Then, use a text editor to open the <code>chart.html</code> file and we'll find something like this</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span><span class="w"></span>
<span class="w">    </span><span class="p">.</span><span class="nc">vega-actions</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">margin-right</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#757575</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">normal</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">.</span><span class="nc">error</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="kc">red</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm//vega@5&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm//vega-lite@3.4.0&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm//vega-embed@4&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;vis&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">vegaEmbed</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">spec</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;config&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;view&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;width&quot;</span><span class="o">:</span> <span class="mf">400</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="o">:</span> <span class="mf">300</span><span class="p">},</span> <span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;tooltip&quot;</span><span class="o">:</span> <span class="kc">null</span><span class="p">}},</span> <span class="s2">&quot;layer&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;encoding&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;percentile&quot;</span><span class="p">},</span> <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;y&quot;</span><span class="p">}}},</span> <span class="p">{</span><span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="s2">&quot;point&quot;</span><span class="p">,</span> <span class="s2">&quot;encoding&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;opacity&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="mf">0</span><span class="p">},</span> <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;percentile&quot;</span><span class="p">}},</span> <span class="s2">&quot;selection&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;selector003&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;single&quot;</span><span class="p">,</span> <span class="s2">&quot;nearest&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;on&quot;</span><span class="o">:</span> <span class="s2">&quot;mouseover&quot;</span><span class="p">,</span> <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">],</span> <span class="s2">&quot;empty&quot;</span><span class="o">:</span> <span class="s2">&quot;none&quot;</span><span class="p">}}},</span> <span class="p">{</span><span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="s2">&quot;point&quot;</span><span class="p">,</span> <span class="s2">&quot;encoding&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;opacity&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;condition&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="s2">&quot;selection&quot;</span><span class="o">:</span> <span class="s2">&quot;selector003&quot;</span><span class="p">},</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="mf">0</span><span class="p">},</span> <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;percentile&quot;</span><span class="p">},</span> <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;y&quot;</span><span class="p">}}},</span> <span class="p">{</span><span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;rule&quot;</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;red&quot;</span><span class="p">},</span> <span class="s2">&quot;encoding&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;percentile&quot;</span><span class="p">}},</span> <span class="s2">&quot;transform&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;filter&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;selection&quot;</span><span class="o">:</span> <span class="s2">&quot;selector003&quot;</span><span class="p">}}]},</span> <span class="p">{</span><span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="s2">&quot;align&quot;</span><span class="o">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;dx&quot;</span><span class="o">:</span> <span class="mf">5</span><span class="p">,</span> <span class="s2">&quot;dy&quot;</span><span class="o">:</span> <span class="mf">0</span><span class="p">},</span> <span class="s2">&quot;encoding&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;condition&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;percentile&quot;</span><span class="p">,</span> <span class="s2">&quot;selection&quot;</span><span class="o">:</span> <span class="s2">&quot;selector003&quot;</span><span class="p">},</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot; &quot;</span><span class="p">},</span> <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;percentile&quot;</span><span class="p">},</span> <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;y&quot;</span><span class="p">}}},</span> <span class="p">{</span><span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="s2">&quot;align&quot;</span><span class="o">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;dx&quot;</span><span class="o">:</span> <span class="mf">5</span><span class="p">,</span> <span class="s2">&quot;dy&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">10</span><span class="p">},</span> <span class="s2">&quot;encoding&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;condition&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;selection&quot;</span><span class="o">:</span> <span class="s2">&quot;selector003&quot;</span><span class="p">},</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot; &quot;</span><span class="p">},</span> <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;percentile&quot;</span><span class="p">},</span> <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;y&quot;</span><span class="p">}}}],</span> <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;data-589c8009bd1032acf6c3fa2e860ade11&quot;</span><span class="p">},</span> <span class="s2">&quot;height&quot;</span><span class="o">:</span> <span class="mf">600</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;Percentile of y_train values&quot;</span><span class="p">,</span> <span class="s2">&quot;width&quot;</span><span class="o">:</span> <span class="mf">600</span><span class="p">,</span> <span class="s2">&quot;$schema&quot;</span><span class="o">:</span> <span class="s2">&quot;https://vega.github.io/schema/vega-lite/v3.4.0.json&quot;</span><span class="p">,</span> <span class="s2">&quot;datasets&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;data-589c8009bd1032acf6c3fa2e860ade11&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">835.018071493274</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">0</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">444.83823646552</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">1</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">363.3886505275625</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">2</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">340.13261772541864</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">3</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">308.54151792979076</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">4</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">282.8571006987326</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">5</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">258.2682562559114</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">6</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">252.57614139095102</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">7</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">247.6628018177709</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">8</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">241.67992060310775</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">9</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">227.7402897303325</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">10</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">216.87865611723595</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">11</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">214.36028119122957</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">12</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">204.1143076422381</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">13</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">187.18952807759686</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">14</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">170.54037671160953</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">15</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">163.05447886448047</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">16</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">155.4614553449076</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">17</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">151.55855865927654</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">18</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">144.89623543628028</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">19</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">138.75429456707442</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">20</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">134.1087335158439</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">21</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">127.43482918223924</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">22</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">120.23061569971266</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">23</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">111.79755697988983</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">24</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">101.50524308625384</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">25</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">92.70649677811616</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">26</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">88.38990107709756</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">27</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">79.03705317533408</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">28</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">74.73672458832394</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">29</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">67.99230490004527</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">30</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">63.814393030110736</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">31</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">60.740325154198885</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">32</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">56.07157187097297</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">33</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">48.53265858329275</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">34</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">45.981398293498664</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">35</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">42.39723763952238</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">36</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">36.97761712925085</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">37</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">33.26452232646075</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">38</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">31.911420870058702</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">39</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">28.20075968640002</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">40</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">21.71192215969929</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">41</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">20.613811369098432</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">42</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">15.769485333543091</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">43</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">13.435908346501137</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">44</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">7.845757682422691</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">45</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">4.274909675082899</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">46</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">0.3074004978537239</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">47</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">2.788385337913249</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">48</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">6.728667500764336</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">49</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">14.575618468552392</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">50</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">16.520205067812604</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">51</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">19.436020392895152</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">52</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">25.47180493152756</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">53</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">34.42985406425026</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">54</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">38.48102281322768</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">55</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">41.67449078991093</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">56</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">46.65879274249497</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">57</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">48.49049304230679</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">58</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">55.11450020183062</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">59</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">57.55704217447</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">60</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">61.9167307326847</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">61</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">67.7972860501853</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">62</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">74.86056713548781</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">63</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">78.28336134349712</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">64</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">90.05277287891795</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">65</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">92.65603782901759</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">66</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">99.31266688862766</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">67</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">101.10647390741705</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">68</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">102.19948053284466</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">69</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">111.85747243526058</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">70</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">120.88047946652841</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">71</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">122.42949795432479</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">72</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">127.64771726254492</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">73</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">131.74726411945286</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">74</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">135.43852133253466</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">75</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">139.15043901201068</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">76</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">140.56649199146744</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">77</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">144.97815036149007</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">78</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">156.09722114688284</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">79</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">161.9680367390797</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">80</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">168.05877291160894</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">81</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">174.0234819237287</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">82</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">176.17602735053197</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">83</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">183.60001089849922</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">84</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">189.54519567362985</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">85</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">197.1004610848934</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">86</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">209.30885091639664</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">87</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">214.57999310933724</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">88</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">219.21003558091812</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">89</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">226.4055149463644</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">90</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">251.63664457942005</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">91</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">261.79776887850085</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">92</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">292.9073422122388</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">93</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">310.27943509990195</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">94</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">342.82672465408746</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">95</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">384.57953214295935</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">96</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">398.5356115522994</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">97</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">431.1703567571817</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">98</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">459.4642261422396</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">99</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">635.4261652802663</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">100</span><span class="p">}]}};</span>
      <span class="kd">var</span> <span class="nx">embedOpt</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;mode&quot;</span><span class="o">:</span> <span class="s2">&quot;vega-lite&quot;</span><span class="p">};</span>

      <span class="kd">function</span> <span class="nx">showError</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">error</span><span class="p">){</span>
          <span class="nx">el</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;error&quot; style=&quot;color:red;&quot;&gt;&#39;</span>
                          <span class="o">+</span> <span class="s1">&#39;&lt;p&gt;JavaScript Error: &#39;</span> <span class="o">+</span> <span class="nx">error</span><span class="p">.</span><span class="nx">message</span> <span class="o">+</span> <span class="s1">&#39;&lt;/p&gt;&#39;</span>
                          <span class="o">+</span> <span class="s2">&quot;&lt;p&gt;This usually means there&#39;s a typo in your chart specification. &quot;</span>
                          <span class="o">+</span> <span class="s2">&quot;See the javascript console for the full traceback.&lt;/p&gt;&quot;</span>
                          <span class="o">+</span> <span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">);</span>
          <span class="k">throw</span> <span class="nx">error</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="kd">const</span> <span class="nx">el</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;vis&#39;</span><span class="p">);</span>
      <span class="nx">vegaEmbed</span><span class="p">(</span><span class="s2">&quot;#vis&quot;</span><span class="p">,</span> <span class="nx">spec</span><span class="p">,</span> <span class="nx">embedOpt</span><span class="p">)</span>
        <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="p">=&gt;</span> <span class="nx">showError</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
    <span class="p">})(</span><span class="nx">vegaEmbed</span><span class="p">);</span>

  <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>

<p>Just copy everything inside the <code>&lt;head&gt;&lt;/head&gt;</code> tag of the <code>chart.html</code> and paste it in the <code>&lt;head&gt;&lt;/head&gt;</code> tag of the <code>html</code> file you want to push to GitHub pages. In my case, the code looks like this.</p>
<div class="highlight"><pre><span></span><code>  <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span><span class="w"></span>
<span class="w">    </span><span class="p">.</span><span class="nc">vega-actions</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">margin-right</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#757575</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">normal</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">.</span><span class="nc">error</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="kc">red</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm//vega@5&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm//vega-lite@3.4.0&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm//vega-embed@4&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>

<p>Then copy everything from the <code>&lt;div&gt;</code> tag till the <code>&lt;/script&gt;</code> tag in your <code>chart.html</code> file and paste it into where you want the image to appear inside the <code>html</code> file you want to push to GitHub pages. In my case, the code looks like this.</p>
<div class="highlight"><pre><span></span><code>  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;vis&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">vegaEmbed</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">spec</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;config&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;view&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;width&quot;</span><span class="o">:</span> <span class="mf">400</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="o">:</span> <span class="mf">300</span><span class="p">},</span> <span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;tooltip&quot;</span><span class="o">:</span> <span class="kc">null</span><span class="p">}},</span> <span class="s2">&quot;layer&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;encoding&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;percentile&quot;</span><span class="p">},</span> <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;y&quot;</span><span class="p">}}},</span> <span class="p">{</span><span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="s2">&quot;point&quot;</span><span class="p">,</span> <span class="s2">&quot;encoding&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;opacity&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="mf">0</span><span class="p">},</span> <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;percentile&quot;</span><span class="p">}},</span> <span class="s2">&quot;selection&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;selector003&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;single&quot;</span><span class="p">,</span> <span class="s2">&quot;nearest&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;on&quot;</span><span class="o">:</span> <span class="s2">&quot;mouseover&quot;</span><span class="p">,</span> <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">],</span> <span class="s2">&quot;empty&quot;</span><span class="o">:</span> <span class="s2">&quot;none&quot;</span><span class="p">}}},</span> <span class="p">{</span><span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="s2">&quot;point&quot;</span><span class="p">,</span> <span class="s2">&quot;encoding&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;opacity&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;condition&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="s2">&quot;selection&quot;</span><span class="o">:</span> <span class="s2">&quot;selector003&quot;</span><span class="p">},</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="mf">0</span><span class="p">},</span> <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;percentile&quot;</span><span class="p">},</span> <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;y&quot;</span><span class="p">}}},</span> <span class="p">{</span><span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;rule&quot;</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;red&quot;</span><span class="p">},</span> <span class="s2">&quot;encoding&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;percentile&quot;</span><span class="p">}},</span> <span class="s2">&quot;transform&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;filter&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;selection&quot;</span><span class="o">:</span> <span class="s2">&quot;selector003&quot;</span><span class="p">}}]},</span> <span class="p">{</span><span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="s2">&quot;align&quot;</span><span class="o">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;dx&quot;</span><span class="o">:</span> <span class="mf">5</span><span class="p">,</span> <span class="s2">&quot;dy&quot;</span><span class="o">:</span> <span class="mf">0</span><span class="p">},</span> <span class="s2">&quot;encoding&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;condition&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;percentile&quot;</span><span class="p">,</span> <span class="s2">&quot;selection&quot;</span><span class="o">:</span> <span class="s2">&quot;selector003&quot;</span><span class="p">},</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot; &quot;</span><span class="p">},</span> <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;percentile&quot;</span><span class="p">},</span> <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;y&quot;</span><span class="p">}}},</span> <span class="p">{</span><span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="s2">&quot;align&quot;</span><span class="o">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;dx&quot;</span><span class="o">:</span> <span class="mf">5</span><span class="p">,</span> <span class="s2">&quot;dy&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">10</span><span class="p">},</span> <span class="s2">&quot;encoding&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;condition&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;selection&quot;</span><span class="o">:</span> <span class="s2">&quot;selector003&quot;</span><span class="p">},</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot; &quot;</span><span class="p">},</span> <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;percentile&quot;</span><span class="p">},</span> <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;y&quot;</span><span class="p">}}}],</span> <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;data-589c8009bd1032acf6c3fa2e860ade11&quot;</span><span class="p">},</span> <span class="s2">&quot;height&quot;</span><span class="o">:</span> <span class="mf">600</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;Percentile of y_train values&quot;</span><span class="p">,</span> <span class="s2">&quot;width&quot;</span><span class="o">:</span> <span class="mf">600</span><span class="p">,</span> <span class="s2">&quot;$schema&quot;</span><span class="o">:</span> <span class="s2">&quot;https://vega.github.io/schema/vega-lite/v3.4.0.json&quot;</span><span class="p">,</span> <span class="s2">&quot;datasets&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;data-589c8009bd1032acf6c3fa2e860ade11&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">835.018071493274</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">0</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">444.83823646552</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">1</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">363.3886505275625</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">2</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">340.13261772541864</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">3</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">308.54151792979076</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">4</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">282.8571006987326</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">5</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">258.2682562559114</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">6</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">252.57614139095102</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">7</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">247.6628018177709</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">8</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">241.67992060310775</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">9</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">227.7402897303325</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">10</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">216.87865611723595</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">11</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">214.36028119122957</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">12</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">204.1143076422381</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">13</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">187.18952807759686</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">14</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">170.54037671160953</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">15</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">163.05447886448047</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">16</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">155.4614553449076</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">17</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">151.55855865927654</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">18</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">144.89623543628028</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">19</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">138.75429456707442</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">20</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">134.1087335158439</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">21</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">127.43482918223924</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">22</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">120.23061569971266</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">23</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">111.79755697988983</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">24</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">101.50524308625384</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">25</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">92.70649677811616</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">26</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">88.38990107709756</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">27</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">79.03705317533408</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">28</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">74.73672458832394</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">29</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">67.99230490004527</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">30</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">63.814393030110736</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">31</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">60.740325154198885</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">32</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">56.07157187097297</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">33</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">48.53265858329275</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">34</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">45.981398293498664</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">35</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">42.39723763952238</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">36</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">36.97761712925085</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">37</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">33.26452232646075</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">38</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">31.911420870058702</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">39</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">28.20075968640002</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">40</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">21.71192215969929</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">41</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">20.613811369098432</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">42</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">15.769485333543091</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">43</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">13.435908346501137</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">44</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">7.845757682422691</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">45</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">4.274909675082899</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">46</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">0.3074004978537239</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">47</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">2.788385337913249</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">48</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">6.728667500764336</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">49</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">14.575618468552392</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">50</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">16.520205067812604</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">51</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">19.436020392895152</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">52</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">25.47180493152756</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">53</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">34.42985406425026</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">54</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">38.48102281322768</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">55</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">41.67449078991093</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">56</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">46.65879274249497</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">57</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">48.49049304230679</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">58</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">55.11450020183062</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">59</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">57.55704217447</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">60</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">61.9167307326847</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">61</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">67.7972860501853</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">62</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">74.86056713548781</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">63</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">78.28336134349712</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">64</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">90.05277287891795</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">65</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">92.65603782901759</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">66</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">99.31266688862766</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">67</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">101.10647390741705</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">68</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">102.19948053284466</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">69</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">111.85747243526058</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">70</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">120.88047946652841</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">71</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">122.42949795432479</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">72</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">127.64771726254492</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">73</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">131.74726411945286</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">74</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">135.43852133253466</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">75</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">139.15043901201068</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">76</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">140.56649199146744</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">77</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">144.97815036149007</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">78</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">156.09722114688284</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">79</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">161.9680367390797</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">80</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">168.05877291160894</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">81</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">174.0234819237287</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">82</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">176.17602735053197</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">83</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">183.60001089849922</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">84</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">189.54519567362985</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">85</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">197.1004610848934</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">86</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">209.30885091639664</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">87</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">214.57999310933724</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">88</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">219.21003558091812</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">89</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">226.4055149463644</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">90</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">251.63664457942005</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">91</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">261.79776887850085</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">92</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">292.9073422122388</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">93</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">310.27943509990195</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">94</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">342.82672465408746</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">95</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">384.57953214295935</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">96</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">398.5356115522994</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">97</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">431.1703567571817</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">98</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">459.4642261422396</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">99</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="mf">635.4261652802663</span><span class="p">,</span> <span class="s2">&quot;percentile&quot;</span><span class="o">:</span> <span class="mf">100</span><span class="p">}]}};</span>
      <span class="kd">var</span> <span class="nx">embedOpt</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;mode&quot;</span><span class="o">:</span> <span class="s2">&quot;vega-lite&quot;</span><span class="p">};</span>

      <span class="kd">function</span> <span class="nx">showError</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">error</span><span class="p">){</span>
          <span class="nx">el</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;error&quot; style=&quot;color:red;&quot;&gt;&#39;</span>
                          <span class="o">+</span> <span class="s1">&#39;&lt;p&gt;JavaScript Error: &#39;</span> <span class="o">+</span> <span class="nx">error</span><span class="p">.</span><span class="nx">message</span> <span class="o">+</span> <span class="s1">&#39;&lt;/p&gt;&#39;</span>
                          <span class="o">+</span> <span class="s2">&quot;&lt;p&gt;This usually means there&#39;s a typo in your chart specification. &quot;</span>
                          <span class="o">+</span> <span class="s2">&quot;See the javascript console for the full traceback.&lt;/p&gt;&quot;</span>
                          <span class="o">+</span> <span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">);</span>
          <span class="k">throw</span> <span class="nx">error</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="kd">const</span> <span class="nx">el</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;vis&#39;</span><span class="p">);</span>
      <span class="nx">vegaEmbed</span><span class="p">(</span><span class="s2">&quot;#vis&quot;</span><span class="p">,</span> <span class="nx">spec</span><span class="p">,</span> <span class="nx">embedOpt</span><span class="p">)</span>
        <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="p">=&gt;</span> <span class="nx">showError</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
    <span class="p">})(</span><span class="nx">vegaEmbed</span><span class="p">);</span>

  <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>

<h5>Normally I will include the chart/graph right below where I ran the <code>.save(chart.html)</code> section. But you can place it anywhere you want inside the <code>&lt;body&gt;</code> tag.</h5>
<h3>Alternative for Pelican Website users to automate things</h3>
<h4>1. Navigate to your <code>theme/templates/article.html</code> and <code>theme/templates/base.html</code></h4>
<h5>Add the following code into your <code>article.html</code> right below your <code>{% block title %}</code> if there's one.</h5>
<div class="highlight"><pre><span></span><code>{% block scripts %}
{% if &#39;vega&#39; in article.content %}
<span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span><span class="w"></span>
<span class="p">.</span><span class="nc">vega-actions</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">margin-right</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#757575</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">normal</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="p">.</span><span class="nc">error</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="kc">red</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm//vega@3.3.1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm//vega-lite@2.4.3&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm//vega-embed@3.11&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
{% endif %}
{% endblock %}
</code></pre></div>

<h4>For example, my <code>article.html</code> looks like this</h4>
<div class="highlight"><pre><span></span><code>{% extends &quot;base.html&quot; %}
{% block title %}{{ article.title }}
{% endblock %}
{% block scripts %}
{% if &#39;vega&#39; in article.content %}
<span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span><span class="w"></span>
<span class="p">.</span><span class="nc">vega-actions</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">margin-right</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#757575</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">normal</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="p">.</span><span class="nc">error</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="kc">red</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm//vega@3.3.1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm//vega-lite@2.4.3&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm//vega-embed@3.11&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
{% endif %}
{% endblock %}
{% block content %}
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;row&quot;</span><span class="p">&gt;</span>
 <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;col-md-8&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>{{ article.title }}<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>{{ article.date.strftime(&#39;%Y-%m-%d&#39;) }}<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
  {{ article.content }}
 <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
{% endblock %}
</code></pre></div>

<h4>2. After that, add the following code into your <code>base.html</code> right below your <code>{% block title %}</code> if there's one.</h4>
<div class="highlight"><pre><span></span><code>{% block scripts %}{% endblock %}
</code></pre></div>

<h4>For example, my <code>base.html</code> looks like this</h4>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
 <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>{% block title %}{% endblock %}<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
 <span class="cm">&lt;!-- Latest compiled and minified CSS --&gt;</span>
 <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css&quot;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&quot;sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu&quot;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&quot;anonymous&quot;</span><span class="p">&gt;</span>
 <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ SITEURL }}&quot;</span><span class="p">&gt;</span>{{ SITENAME }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
 <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
 {% block scripts %}{% endblock %}
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
 <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
  {% block content %}{% endblock %}
 <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>

<h5>Now you only have to paste everything in your <code>&lt;body&gt;&lt;/body&gt;</code> tag of <code>chart.html</code> and run it as <code>markdown</code> in your Jupyter Notebook cell. Run your <code>pelicanconf.py</code> file command from your terminal to create <code>html</code> files to your content folder.</h5>
<h4>Finally, push the <code>html</code> files to GitHub pages and now you have an interactive Altair chart!</h4>
<p><img src="images/ez_clap.gif" alt="EZ Clap" height="200" width="300"></p></div>

  </article>
</section>
    </div>

    <div class="column is-one-quarter-desktop is-one-third-tablet is-hidden-print">
      <aside class="menu">
          <p class="menu-label">Links</p>
          <ul class="menu-list">
              <li><a href="https://ted-talk-viral-predictor.herokuapp.com/">
                <span class="icon is-small"><i class="fa fa-globe fa-fw"></i></span>
                <span class="link-text">TED Talk Virality Predictor Hackathon</span>
              </a></li>
              <li><a href="https://world-happiness-ranking.herokuapp.com/">
                <span class="icon is-small"><i class="fa fa-globe fa-fw"></i></span>
                <span class="link-text">World Happiness Ranking App</span>
              </a></li>
          </ul>
<p class="menu-label">Social</p>
<ul class="menu-list">
    <li><a href="https://www.linkedin.com/in/teckhockng/">
      <span class="icon is-small">
          <i class="fa fa-linkedin fa-fw"></i>
      </span>
      <span class="link-text">LinkedIn</span>
    </a></li>
    <li><a href="https://github.com/teckhockng">
      <span class="icon is-small">
          <i class="fa fa-github fa-fw"></i>
      </span>
      <span class="link-text">GitHub</span>
    </a></li>
</ul>      </aside>
    </div>
  </div>
</div>

<footer class="footer">
  <div class="container has-text-centered">
    <p><span class="icon is-small"><i class="fa fa-html5"></i></span> HTML 5
      | <span class="icon is-small"><i class="fa fa-css3"></i></span> CSS 3
    </p>
  </div>
</footer>

<script type="text/javascript">
  document.getElementById('navToggle').addEventListener('click', function () {
    var nav = document.getElementById('navMenu');
    var className = nav.getAttribute('class');
    if (className == 'nav-right nav-menu') {
      nav.className = 'nav-right nav-menu is-active';
    } else {
      nav.className = 'nav-right nav-menu';
    }
  });
</script>
</body>
</html>